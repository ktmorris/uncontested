---
title: "Uncontested Races and Turnout"
date: "`r format(Sys.time(), '%B %d, %Y')`"
output:
  bookdown::pdf_document2:
    toc: no
    fig_caption: yes
bibliography: "../../felony_disenfranchisement/research/citations.bib"
link-citations: yes
---
```{r setup, echo = F, message = F, warning = F}
knitr::opts_knit$set(root.dir = "..", dev = "cairo_pdf")
library(sandwich)
library(lmtest)
library(scales)
library(tidyverse)
library(extrafont)
library(kableExtra)
library(stargazer)
loadfonts()

```

# Data and Methodology {-}
To investigate whether voters who live in uncontested Congressional districts are less likely to cast a ballot, we examine data from the 2018 midterm elections. In 2018, there were 36 such districts. In the interest of increasing the robustness of our results, we focus on states which were home to multiple uncontested districts: California, Florida, Georiga, New York, and Texas, which account for 22 of the 36 uncontested districts.^[Massachusetts also had multiple uncontested House districts. However, because they do not maintain an accessible statewide registered voter file, they are not included in our analysis.]

In each of the states included in this study we match voters in uncontested districts to voters in contested districts. We then compare the turnout rates among these two groups.

## Data {-}

### Registered Voter Files {-}
Our primary data for this analysis are the statewide registered voter files. All of these voter files were acquired directly from the state in question, with the exception of Texas, whose data was provided by the firm Aristotle. Each registered voter file contains a rich set of information: dates of birth, home addresses, gender, and party affiliation, for instance. They also include indicators of elections in which each voter cast a ballot. From these files, we can see turnout at the individual level. For many of our indicators, we match based on individual-level characteristics from the voter files.

### Census Data {-}
In addition to individual-level characteristics, we also match on sociodemographic information not available from the voter files. We do so by geocoding each voter to her home census tract. We then assign each voter the demographics associated with that census tract.

### Surname Analysis {-}
Although some of the registered voter files include self-reported race (Florida and Georgia), the others do not. In California, New York, and Texas, we use a methodology developed by Imai and Khanna [CITE]. Their wru package in R provides Bayesian predictions of race based on individuals' surname and census tract.

## Methodology {-}
In each state included in this analysis, we match each voter who lives in an uncontested House district ("treated" voters) to 100 voters who live in contested district ("untreated" voters). Matches are done with replacement, performed using multiple sociodemographic indicators: whether the voter participated in the primary election in 2018;^[In New York State, where federal and local primaries were held on different dates, this measures participation in the federal primary.] whether the voter is registered as a Democrat or a Republican;^[In Texas and Georgia, voters do not register with parties. In the case of Texas, this indicates the primary the voter participated in (if any) in 2018. In Georgia, it indicates the party of the most recent primary in which the voter participated (if any).] year of birth; whether the voter identifies as female; census tract median income; share of the home census tract with post-high school education; and race.^[In the case of Florida and Georgia, race categories are self-reported in the voter file. In the case of California, Texas, and New York, these are the predicted probabilties of each voter's race based on his surname and home census tract.] We use a genetic matching algorithm [CITE] to determine the proper weights for these characteristics.^[Due to computing constraints, these weights were calculated using a random 1 percent of treated and untreated observations. As our match tables below indicate, doing so did not result in unacceptable matches.]

Voters are matched with other voters within their home state. Doing so allows us to implicitly control for the effect of statewide races on participation. In Florida, where there were multiple hotly contested statewide races, we expect that any turnout effect from living in an uncontested district will be small. Conversely, the statewide races in New York were not very competitive; as such, we expect that the turnout effect in the Empire State will be larger.

# Results {-}

Tables \ref{tab:tx-match}, \ref{tab:fl-match}, \ref{tab:ny-match}, \ref{tab:ga-match}, and \ref{tab:ca-match} present the outcome of these matches. In every state, treated and untreated observations are well balanced.

```{r tx-match-table, echo = F}
t <- readRDS("./temp/match_table_tx.rds")
j <- knitr::kable(t, booktabs = T, caption = "(\\#tab:tx-match) Results of Texas Matching", linesep = "") %>% 
  add_header_above(c(" " = 1, "Means: Unmatched Data" = 2, "Means: Matched Data" = 2, "Percent Improvement" = 4), align = "c") %>% 
  kable_styling(latex_options = c("scale_down", "HOLD_position"))
j
```


```{r fl-match-table, echo = F}
t <- readRDS("./temp/match_table_fl.rds")
j <- knitr::kable(t, booktabs = T, caption = "(\\#tab:fl-match) Results of Florida Matching", linesep = "") %>% 
  add_header_above(c(" " = 1, "Means: Unmatched Data" = 2, "Means: Matched Data" = 2, "Percent Improvement" = 4), align = "c") %>% 
  kable_styling(latex_options = c("scale_down", "HOLD_position"))
j
```


```{r ny-match-table, echo = F}
t <- readRDS("./temp/match_table_ny.rds")
j <- knitr::kable(t, booktabs = T, caption = "(\\#tab:ny-match) Results of New York Matching", linesep = "") %>% 
  add_header_above(c(" " = 1, "Means: Unmatched Data" = 2, "Means: Matched Data" = 2, "Percent Improvement" = 4), align = "c") %>% 
  kable_styling(latex_options = c("scale_down", "HOLD_position"))
j
```
After matching, simple regression analyses are performed to test whether voters in uncontested districts were less likely to cast a ballot. Because our variable of interest (participation in the 2018 election) is binary, these are fitted using a logit model. Table \ref{tab:reg1} reports the results of these regressions.
```{r logit-regs, echo = F, results = "asis", message = F}
fl_reg <- readRDS("./temp/match_reg_fl_1.rds")
tx_reg <- readRDS("./temp/match_reg_tx_1.rds")
ny_reg <- readRDS("./temp/match_reg_ny_1.rds")

stargazer(fl_reg, ny_reg, tx_reg,
          header = F,
          type = "latex",
          column.labels = c("Florida", "New York", "Texas"),
          covariate.labels = c("D(Voter Lived in Uncontested District)"),
          title = "(\\#tab:reg1) Turnout Effect of Living in Uncontested District",
          dep.var.labels = "Participation in 2018 General Election",
          table.placement = "H",
          style = "ajps",
          omit.stat = c("f", "ser", "ll", "aic"))
```